{
  "version": 3,
  "file": "index.js",
  "sourceRoot": "",
  "sources": [
    "src\\index.coffee"
  ],
  "names": [],
  "mappings": ";AAAA,IAAA;;AAAA,OAAA,AAAO,WAAP;;AACA,OAAA,AAAO,UAAP;;AAEA,SAAS,KAAA,AAAK,GAAL,AAAQ;;AACjB,SAAS,KAAA,AAAK,GAAL,AAAQ;;AAEjB,SAAS,UAAA,AAAC,KAAD,AAAM,QACb;MAAA;AAAA,QAAM,IAAA,AAAI,MAAJ,AAAU,SAAV,AAAmB;AACzB,AAAG,MAAH,AAAI,WAAW,AAAM,OAAN,AAAO,MAAtB,AAAe,AAAa,SAA5B,AAAqC;AACrC,AAAG,MAAH,AAAI,OAAO,AAAM,OAAN,AAAO,SAAP,AAAgB,cAAG,MAA9B,AAAW,AAA0B;AACrC,QAAM,AAAG,IAAH,AAAI,QAAJ,AAAY;AAClB,WAAS,IAAI,SAAS,AAAI,WAAb,IAAA,AAAoB;AACjC,QAAM,aAAa,SAAS,AAAI,UAAU,iBAAvB,IAAA,AAA8B;SACjD,SAAA,AAAS,GAAT,AAAe,EAAf,QAPO;;;AAST,OAAO,UAAA,AAAC,MAAD,AAAO,MAAP,AAAa,IAClB;MAAA;AAAA,QAAM,OAAO;AAEb,WAAS,YACP;QAAA;AAAA,UAAM,IAAA,AAAI,SAAO;AACjB,WAAO,gBAAM,MAAD,AAAQ,KAAR,GAAgB;AAC5B,QAAG,MAAH,AAAS;AACP,YAAM,OAAA,AAAO,KADf,AACQ,AAAY;;AACpB,WAAO,GAAG,EAAA,AAAE,MAAL,AAAG,AAAQ;WAClB,MANO,AAMD;;AAER;SACA,YAAA,AAAY,GAZP,AAYL,AAAe;;;AAEjB,eAAe,EAAA,AAAE,QAAF,AAAU",
  "sourcesContent": [
    "import jsSHA from 'jssha'\nimport Base from 'base-2n'\n\nBase64 = Base(6, \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\")\nBase32 = Base(5, \"abcdefghijklmnopqrstuvwxyz234567\")\n\nto_otk = (now, secret)->\n  sha = new jsSHA \"SHA-1\", \"B64\"\n  sha.setHMACKey Base32.toHex(secret), \"HEX\"\n  sha.update Base64.byNumber 8, now // 30000\n  hex = sha.getHMAC \"HEX\"\n  offset = 2 * parseInt hex[-1..], 16\n  key = 0x7fffffff & parseInt hex[offset..][0..7], 16\n  \"000000#{key}\"[-6..]\n\ntick = (msec, seed, cb)->\n  old = diff = 0\n\n  ticker = ->\n    now = new Date - diff\n    time = 30 - (now // 1000) % 30\n    if old < time\n      otk = to_otk now, seed\n    diff = cb { time, otk }\n    old = time\n\n  ticker()\n  setInterval f, msec\n\nexport default { to_otk, tick }\n"
  ]
}